{
  "execution_timestamp": "2025-08-15T18:08:41.764813",
  "database_info": {
    "server": "localhost",
    "database": "shopping_cart_sample",
    "port": 1433
  },
  "test_results": [
    {
      "file_name": "test_scenarios.json",
      "scenarios": [
        {
          "scenario_id": "TS001",
          "scenario_name": "Shopping Cart Item Existence Check",
          "description": "This scenario is designed to validate that all items in the shopping cart belong to existing products in the products table.",
          "test_query": "SELECT CASE WHEN COUNT(*) = 0 THEN 0 ELSE 1 END FROM [dbo].[shopping_cart] WHERE [product_id] NOT IN (SELECT [id] FROM [dbo].[products]);",
          "risk_level": "high",
          "execution_result": 0,
          "status": "failure",
          "error_message": null
        },
        {
          "scenario_id": "TS002",
          "scenario_name": "Shopping Cart Item Quantity Check",
          "description": "This scenario is designed to validate that the quantity of each item in the shopping cart is less than or equal to the stock of the corresponding product in the products table.",
          "test_query": "SELECT CASE WHEN COUNT(*) = 0 THEN 0 ELSE 1 END FROM [dbo].[shopping_cart] sc JOIN [dbo].[products] p ON sc.[product_id] = p.[id] WHERE sc.[quantity] > p.[stock];",
          "risk_level": "medium",
          "execution_result": 1,
          "status": "success",
          "error_message": null
        }
      ]
    }
  ]
}