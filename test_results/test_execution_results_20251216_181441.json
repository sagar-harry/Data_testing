{
  "execution_timestamp": "2025-12-16T18:14:40.953960",
  "database_info": {
    "server": "localhost",
    "database": "shopping_cart_sample",
    "port": 1433
  },
  "test_results": [
    {
      "file_name": "test_scenarios.json",
      "scenarios": [
        {
          "scenario_id": "TS001",
          "scenario_name": "Product Category Validation",
          "description": "This scenario is to verify that all products have a valid category_id and every category_id in products exists in the categories table",
          "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM products WHERE category_id NOT IN (SELECT category_id FROM categories)",
          "risk_level": "high",
          "execution_result": 1,
          "status": "success",
          "error_message": null
        },
        {
          "scenario_id": "TS002",
          "scenario_name": "Product Mandatory Fields Validation",
          "description": "This scenario is to verify that no products have a NULL value in mandatory fields (name, price)",
          "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM products WHERE name IS NULL OR price IS NULL",
          "risk_level": "high",
          "execution_result": 1,
          "status": "success",
          "error_message": null
        },
        {
          "scenario_id": "TS003",
          "scenario_name": "Data Integrity Check",
          "description": "This scenario is to verify that all foreign keys reference existing parent records and there are no orphan records in child tables",
          "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM child_table WHERE foreign_key NOT IN (SELECT primary_key FROM parent_table)",
          "risk_level": "high",
          "execution_result": null,
          "status": "failed",
          "error_message": "('42S02', \"[42S02] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Invalid object name 'child_table'. (208) (SQLExecDirectW)\")"
        }
      ]
    }
  ]
}