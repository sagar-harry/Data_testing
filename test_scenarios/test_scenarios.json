{
  "test_scenarios": [
    {
      "scenario_id": "TS001",
      "scenario_name": "Product Category Validation",
      "description": "This scenario is to verify that all products have a valid category_id",
      "test_scenario": "Check if there are any products without a valid category_id",
      "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM products WHERE category_id IS NULL OR category_id NOT IN (SELECT category_id FROM categories)",
      "validation_criteria": [
        "The query should return 1 if all products have a valid category_id, otherwise it should return 0"
      ],
      "risk_level": "high"
    },
    {
      "scenario_id": "TS002",
      "scenario_name": "Product Category Consistency",
      "description": "This scenario is to verify that the category_id of a product does not change once it has been set",
      "test_scenario": "Check if there are any products where the category_id has changed",
      "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM product_history WHERE old_category_id != new_category_id",
      "validation_criteria": [
        "The query should return 1 if no product's category_id has changed, otherwise it should return 0"
      ],
      "risk_level": "medium"
    },
    {
      "scenario_id": "TS003",
      "scenario_name": "Product Category Existence",
      "description": "This scenario is to verify that the category_id assigned to a product exists in the categories table",
      "test_scenario": "Check if there are any products with a category_id that does not exist in the categories table",
      "test_query": "SELECT CASE WHEN COUNT(*) > 0 THEN 0 ELSE 1 END FROM products WHERE category_id NOT IN (SELECT category_id FROM categories)",
      "validation_criteria": [
        "The query should return 1 if all products have a category_id that exists in the categories table, otherwise it should return 0"
      ],
      "risk_level": "high"
    }
  ]
}