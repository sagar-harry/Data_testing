{
  "test_scenarios": [
    {
      "scenario_id": "TS001",
      "scenario_name": "Shopping Cart Item Existence Check",
      "description": "This scenario is designed to validate that all items in the shopping cart belong to existing products in the products table.",
      "test_scenario": "Fetch all items from the shopping cart and check if each item's product_id exists in the products table.",
      "test_query": "SELECT CASE WHEN COUNT(*) = 0 THEN 0 ELSE 1 END FROM [dbo].[shopping_cart] WHERE [product_id] NOT IN (SELECT [id] FROM [dbo].[products]);",
      "validation_criteria": [
        "If the query returns 1, it means that all items in the shopping cart belong to existing products. If it returns 0, it means there are items in the shopping cart that do not belong to any existing product."
      ],
      "risk_level": "high"
    },
    {
      "scenario_id": "TS002",
      "scenario_name": "Shopping Cart Item Quantity Check",
      "description": "This scenario is designed to validate that the quantity of each item in the shopping cart is less than or equal to the stock of the corresponding product in the products table.",
      "test_scenario": "Fetch all items from the shopping cart and check if the quantity of each item is less than or equal to the stock of the corresponding product.",
      "test_query": "SELECT CASE WHEN COUNT(*) = 0 THEN 0 ELSE 1 END FROM [dbo].[shopping_cart] sc JOIN [dbo].[products] p ON sc.[product_id] = p.[id] WHERE sc.[quantity] > p.[stock];",
      "validation_criteria": [
        "If the query returns 1, it means that the quantity of all items in the shopping cart is less than or equal to the stock of the corresponding product. If it returns 0, it means there are items in the shopping cart with quantity greater than the stock of the corresponding product."
      ],
      "risk_level": "medium"
    }
  ]
}